<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>index</title>
	<style>
		body {
			max-width: 800px;
			margin: 20px auto;
		}
	</style>
</head>

<body>

	<br>
	<div id="editor">
		<h2>Sample</h2>
		<p>This is an instance of the balloon block editor ww.You can use this sample to validate whether works
			fine.You can use this sample to validate whether works fine..</p>
		<p>You can use this sample to validate whether works fine.</p>
	</div>
	<button onclick="printFn()">click</button>

	<script src="../dist/ckeditor.js"></script>
	<script>

		BalloonEditor.create(document.querySelector('#editor'), {
			heading: {
				options: [
					{ model: 'paragraph', title: '正文', class: 'ck-heading_paragraph' },
					{ model: 'heading1', view: 'h2', title: '标题1', class: 'ck-heading_heading1' },
					// { model: 'heading2', view: 'h3', title: '标题2', class: 'ck-heading_heading2' },
					// { model: 'heading3', view: 'h4', title: '标题3', class: 'ck-heading_heading3' }
				]
			},
			insertImg: {
				options: [{ model: 'paragrh', title: '正x文', class: 'ck-heading_paragraph' },
				{ model: 'headi1', view: 'h2', title: '标x题1', class: 'ck-heading_heading1' },
				{ model: 'headi2', view: 'h3', title: '标x题2', class: 'ck-heading_heading2' },
				{ model: 'headi3', view: 'h4', title: '标x题3', class: 'ck-heading_heading3' }]
			}
			// cloudServices: {
			//     tokenUrl: 'https://example.com/cs-token-endpoint',
			//     uploadUrl: 'https://your-organization-id.cke-cs.com/easyimage/upload/'
			// }
			// mediaEmbed:{
			// 	extraProviders:[{
			// 		name:'baiduPic',
			// 		url:/^ss0\.bdstatic\.com.*/,//'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1551039200,1108067788&fm=26&gp=0.jpg',
			// 		html:match=>'...'
			// 	}]
			// }
		})
			.then(editor => {
				 
				// editor.execute('imageStyle', { value: 'side' })
				window.editor = editor;
				// console.log(editor.conversion)
				// editor.conversion.for('downcast').add(dispatcher => {
				// 	dispatcher.on('insertContent', (evt, data, conversionApi) => {
				// 		console.log('nnn')
				// 		// const viewWriter = conversionApi.writer;
				// 		// const viewSelection = viewWriter.document.selection;

				// 		// // Adding a new CSS class is done by wrapping all link ranges and selection
				// 		// // in a new attribute element with a class.
				// 		// const viewElement = viewWriter.createAttributeElement('a', {
				// 		// 	class: 'my-green-link'
				// 		// }, {
				// 		// 	priority: 5
				// 		// });

				// 		// if (data.item.is('selection')) {
				// 		// 	viewWriter.wrap(viewSelection.getFirstRange(), viewElement);
				// 		// } else {
				// 		// 	viewWriter.wrap(conversionApi.mapper.toViewRange(data.range), viewElement);
				// 		// }
				// 	});
				// });
			})
			.catch(err => {
				console.error(err.stack);
			});

		function printFn() {
			let data = window.editor.getData()
			console.log(data)
		}
	</script>

</body>

</html>